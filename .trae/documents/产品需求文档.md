# Scribe - macOS 智能笔记应用产品需求文档

## 1. 产品概述

Scribe 是一款专为 macOS 设计的智能笔记应用，结合传统笔记功能与 AI 驱动的 Jupyter 模式。
- 提供直观的笔记创建、编辑和管理功能，同时集成 AI Agent 大模型，支持类似 Jupyter Notebook 的交互式计算和内容生成体验。
- 目标用户为知识工作者、研究人员、学生和创作者，帮助他们更高效地记录、处理和生成内容。

## 2. 核心功能

### 2.1 用户角色

| 角色 | 注册方式 | 核心权限 |
|------|----------|----------|
| 普通用户 | 本地应用启动 | 可使用基础笔记功能，有限的 AI 调用次数 |
| 高级用户 | API Key 配置 | 无限制使用所有功能，包括高级 AI 模式 |

### 2.2 功能模块

我们的笔记应用包含以下主要页面：
1. **主界面**：侧边栏文档列表、主编辑区域、工具栏
2. **笔记编辑页面**：富文本编辑器、格式工具栏、模式切换
3. **Jupyter 模式页面**：代码单元格、输出区域、AI 处理状态
4. **设置页面**：AI 配置、导出选项、界面主题

### 2.3 页面详情

| 页面名称 | 模块名称 | 功能描述 |
|----------|----------|----------|
| 主界面 | 侧边栏 | 显示文档树结构，支持文件夹分组、搜索过滤、拖拽排序 |
| 主界面 | 主编辑区 | 显示当前选中文档内容，支持实时预览和编辑 |
| 主界面 | 工具栏 | 提供新建、保存、导出、模式切换等快捷操作 |
| 笔记编辑页面 | 富文本编辑器 | 支持 Markdown 语法、格式化文本、插入图片链接 |
| 笔记编辑页面 | 格式工具栏 | 提供字体样式、标题层级、列表、代码块等格式选项 |
| Jupyter 模式页面 | 输入单元格 | 支持文本和代码输入，语法高亮显示 |
| Jupyter 模式页面 | 输出区域 | 显示 AI 处理结果，支持富文本、图表、代码执行结果 |
| Jupyter 模式页面 | AI 控制面板 | 模型选择、参数调整、处理状态显示 |
| 设置页面 | AI 配置 | API Key 设置、模型选择、调用限制配置 |
| 设置页面 | 导出选项 | 支持 PDF、HTML、Markdown 等格式导出 |

## 3. 核心流程

**普通笔记模式流程：**
用户启动应用 → 选择或新建笔记 → 使用富文本编辑器编写内容 → 保存笔记 → 可选择导出为不同格式

**Jupyter 模式流程：**
用户切换到 Jupyter 模式 → 在输入单元格中输入内容或代码 → 点击运行按钮 → AI Agent 处理输入 → 在输出区域显示结果 → 可继续添加新的单元格形成对话链

```mermaid
graph TD
    A[应用启动] --> B[主界面]
    B --> C[选择笔记]
    B --> D[新建笔记]
    C --> E[普通编辑模式]
    D --> E
    E --> F[Jupyter 模式]
    E --> G[保存笔记]
    F --> H[AI 处理]
    H --> I[查看结果]
    I --> F
    G --> J[导出文档]
```

## 4. 用户界面设计

### 4.1 设计风格

- **主色调**：浅灰色背景 (#F8F9FA)，深灰色文字 (#2C3E50)
- **强调色**：蓝色 (#3498DB) 用于链接和按钮，橙色 (#E67E22) 用于警告
- **按钮样式**：圆角矩形，轻微阴影效果，悬停时颜色加深
- **字体**：系统默认字体 SF Pro，代码使用 SF Mono，主要字号 14px
- **布局风格**：卡片式设计，左侧边栏 + 主内容区域，顶部工具栏
- **图标风格**：使用 SF Symbols，简洁线条风格，与 macOS 系统保持一致

### 4.2 页面设计概览

| 页面名称 | 模块名称 | UI 元素 |
|----------|----------|----------|
| 主界面 | 侧边栏 | 深色背景 (#34495E)，白色文字，树形结构，悬停高亮效果 |
| 主界面 | 主编辑区 | 白色背景，居中布局，最大宽度 800px，行间距 1.6 |
| 主界面 | 工具栏 | 浅灰背景，图标按钮，工具提示，分组布局 |
| Jupyter 模式页面 | 单元格 | 边框卡片样式，输入区语法高亮，输出区背景色区分 |
| Jupyter 模式页面 | AI 状态 | 加载动画，进度指示器，错误提示红色显示 |
| 设置页面 | 配置面板 | 表单样式，标签对齐，输入框圆角，保存按钮突出显示 |

### 4.3 响应式设计

应用主要针对 macOS 桌面环境设计，支持窗口大小调整。最小窗口宽度 1000px，侧边栏可折叠以适应较小屏幕。支持键盘快捷键操作以提升效率。